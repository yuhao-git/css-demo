import{_ as W,v as K,s as a,h as C,l as Z,n as q,L as G,i as P,j as Q,K as B,r as c,o as h,e as w,a as V,b as l,w as s,f as d,t as X,F as k,B as E,c as ee,x as te,U as I,E as ne}from"./index.ab8274cf.js";const ae={style:{position:"absolute","z-index":"99",width:"100%",padding:"0 20px",left:"0"}},le={class:"ml-2"},oe={class:"container"},ie=["onClick"],se={__name:"threeSwiper",setup(re){K(o=>({"3073943a":a(R)}));let m=null;C([]);let e=Z({listNum:10,radius:320,swiperStyle:{},rotateY:0,direction:"left",rotateX:20,isFaceToScreen:!1,isHighLight:!1,list:[1,2,3,4,5,6,7,8,9,10,11,12],animationDuration:1e3,itemRotateX:20,animationCounter:0}),y=C((Math.random()*100).toFixed(0)),L=C([]),p=C(""),f=null,R=C(e.animationDuration+"ms");q(()=>{e.list=Array.from({length:e.listNum},(o,t)=>t+1)});const U=G(()=>(e.list.length+e.animationCounter%e.list.length)%e.list.length);P(()=>{H(),r()}),Q(()=>{F(),M()}),window.addEventListener("beforeunload",function(){F(),M()});function T(o){let t=`rotateY(${e.rotateY-360/e.list.length*o}deg) rotateX(${e.itemRotateX}deg)`;return e.isFaceToScreen||(t=`rotateX(${e.itemRotateX}deg)`),{transform:t}}function b(o){e.direction=o,r()}function Y(o,t){let i=t-e.animationCounter%e.list.length,u=e.animationCounter+i;Math.abs(i)>e.list.length/2&&(i>0?u=u-e.list.length:u=u+e.list.length),e.animationCounter=u,N(e.animationCounter),g({data:e,type:"start"})}function N(o){e.swiperStyle={transform:`rotateX(${-e.rotateX}deg) rotateY(${-(o/e.list.length)*360}deg)`},e.rotateY=o*360/e.list.length}function r(){D(),g({data:e,type:"start"})}function D(){f&&(clearInterval(f),f=null),f=setInterval(()=>{e.direction=="left"?e.animationCounter++:e.animationCounter--,N(e.animationCounter)},e.animationDuration)}function S(){$(),g({data:e,type:"pause"})}function $(){clearInterval(f),f=null}function M(){e.animationCounter=0,S()}function H(){m=new WebSocket("ws://192.168.72.59:12010/"),m.onopen=function(o){g({data:e,type:"login"})},m.onerror=function(o){B("onerror : "+JSON.stringify(o))},m.onmessage=function(o){O(o.data)}}function O(o){let t=JSON.parse(o);t.type==="userList"&&(L.value=t.userList.filter(i=>i!==y.value)),t.type==="pause"&&$(),t.type==="start"&&(Object.keys(e).forEach(i=>{e[i]=t.data[i]}),D())}function g({data:o,type:t="start"}){let i={userId:y.value,date:new Date,to:p.value,type:t,data:o};m.readyState===1&&m.send(JSON.stringify(i))}function F(){g({type:"logout",data:{userId:y.value}}),m.close(),m.onclose=function(o){B("\u5173\u95ED\u8FDE\u63A5\uFF01")}}return(o,t)=>{const i=c("el-text"),u=c("el-slider"),_=c("el-col"),z=c("el-row"),x=c("el-button"),A=c("el-switch"),J=c("el-option"),j=c("el-select");return h(),w(k,null,[V("div",ae,[l(z,{gutter:20},{default:s(()=>[l(_,{span:8},{default:s(()=>[l(i,null,{default:s(()=>[d("\u5BB9\u5668rotateX")]),_:1}),l(u,{max:360,min:-360,onChange:r,modelValue:a(e).rotateX,"onUpdate:modelValue":t[0]||(t[0]=n=>a(e).rotateX=n)},null,8,["modelValue"])]),_:1}),l(_,{span:8},{default:s(()=>[l(i,null,{default:s(()=>[d("\u5143\u7D20rotateX")]),_:1}),l(u,{max:360,min:-360,onChange:r,modelValue:a(e).itemRotateX,"onUpdate:modelValue":t[1]||(t[1]=n=>a(e).itemRotateX=n)},null,8,["modelValue"])]),_:1}),l(_,{span:8},{default:s(()=>[l(i,null,{default:s(()=>[d("\u65F6\u95F4\u95F4\u9694")]),_:1}),l(u,{max:5e3,min:10,onChange:r,modelValue:a(e).animationDuration,"onUpdate:modelValue":t[2]||(t[2]=n=>a(e).animationDuration=n)},null,8,["modelValue"])]),_:1}),l(_,{span:8},{default:s(()=>[l(i,null,{default:s(()=>[d("\u5143\u7D20\u6570\u91CF")]),_:1}),l(u,{max:100,min:2,onChange:r,modelValue:a(e).listNum,"onUpdate:modelValue":t[3]||(t[3]=n=>a(e).listNum=n)},null,8,["modelValue"])]),_:1}),l(_,{span:8},{default:s(()=>[l(i,null,{default:s(()=>[d("\u534A\u5F84")]),_:1}),l(u,{max:1e3,min:2,onChange:r,modelValue:a(e).radius,"onUpdate:modelValue":t[4]||(t[4]=n=>a(e).radius=n)},null,8,["modelValue"])]),_:1})]),_:1}),l(x,{onClick:r},{default:s(()=>[d("\u5F00\u59CB")]),_:1}),l(x,{onClick:S},{default:s(()=>[d("\u6682\u505C")]),_:1}),l(x,{onClick:t[5]||(t[5]=n=>b("left"))},{default:s(()=>[d("\u5411\u5DE6")]),_:1}),l(x,{onClick:t[6]||(t[6]=n=>b("right"))},{default:s(()=>[d("\u5411\u53F3")]),_:1}),l(A,{modelValue:a(e).isFaceToScreen,"onUpdate:modelValue":t[7]||(t[7]=n=>a(e).isFaceToScreen=n),class:"ml-2",onChange:r,"inline-prompt":"","active-text":"\u671D\u5411\u5C4F\u5E55","inactive-text":"\u671D\u5411\u5706\u5FC3"},null,8,["modelValue"]),l(A,{modelValue:a(e).isHighLight,"onUpdate:modelValue":t[8]||(t[8]=n=>a(e).isHighLight=n),class:"ml-2",onChange:r,"inline-prompt":"","active-text":"\u9AD8\u4EAE","inactive-text":"\u65E0\u9AD8\u4EAE"},null,8,["modelValue"]),V("span",le,"\u7528\u6237Id : "+X(a(y)),1),l(j,{placeholder:"\u8981\u540C\u6B65\u7684\u7528\u6237Id",class:"ml-2",onChange:r,clearable:"",modelValue:a(p),"onUpdate:modelValue":t[9]||(t[9]=n=>te(p)?p.value=n:p=n)},{default:s(()=>[(h(!0),w(k,null,E(a(L),n=>(h(),ee(J,{key:n,value:n},null,8,["value"]))),128))]),_:1},8,["modelValue"])]),V("div",oe,[d(X(U.value+1)+" ",1),V("div",{class:"swiper",onMouseenter:S,onMouseleave:r,style:I(a(e).swiperStyle)},[(h(!0),w(k,null,E(a(e).list,(n,v)=>(h(),w("div",{class:"item",style:I({transform:` rotateY(${360/a(e).list.length*v}deg)  translateZ(${a(e).radius}px) `}),key:v},[V("div",{onClick:ue=>Y(n,v),style:I(T(v)),class:ne(["item-content",{highlight:a(e).isHighLight&&U.value==v}])},X(n),15,ie)],4))),128))],36)])],64)}}},me=W(se,[["__scopeId","data-v-cf3a451a"]]);export{me as default};
